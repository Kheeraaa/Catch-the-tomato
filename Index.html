<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catch the Falling Objects</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: 		#FFFDD0; 
            background-image: url(background2.jpg);
          
        }
        .falling-object {
            width: 60px; /* Adjust based on your image size */
            height: 60px; /* Adjust based on your image size */
            background-image: url(object.png); 
            background-size: cover;
            background-position: center;

        }
        #basket {
            width: 100px; /* Adjust based on your basket image size */
            height: 100px; /* Adjust based on your basket image size */
            background-image: url(character.png); 
            background-size: cover;
            background-position: center;
            overflow: hidden;
            
        }
        .cute-font {
            font-family: 'Comic Sans MS', 'Comic Sans', cursive;
        }
    </style>
</head>
<body class="m-0 overflow-hidden">
    <div id="game-container" class="relative w-screen h-screen overflow-hidden">
        <div id="basket" class=" overflow-hidden absolute bottom-2 left-1/2 transform -translate-x-1/2 rounded-lg "></div>
        <div id="score" class="absolute top-2 left-2 text-2xl font-bold text-#818589-200 cute-font">Score: 0</div>
        <div id="lives" class="absolute top-2 right-2 text-2xl font-bold text-#818589-200 cute-font">Lives: 3</div>
        <div id="game-over" class="hidden absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl font-bold text-white cute-font">Game Over</div>
        <button id="restart-button" class="hidden absolute top-2/3 left-1/2 transform -translate-x-1/2 text-2xl py-2 px-4 bg-pink-500 text-white rounded-md cute-font">Restart Game</button>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameContainer = document.getElementById('game-container');
            const basket = document.getElementById('basket');
            const scoreDisplay = document.getElementById('score');
            const livesDisplay = document.getElementById('lives');
            const gameOverDisplay = document.getElementById('game-over');
            const restartButton = document.getElementById('restart-button');

            let score = 0;
            let lives = 3;
            let gameInterval;
            let isGameRunning = false;

            const moveBasket = (event) => {
                const gameContainerRect = gameContainer.getBoundingClientRect();
                let x = event.clientX - gameContainerRect.left - basket.offsetWidth / 2;
                x = Math.max(0, Math.min(x, gameContainer.offsetWidth - basket.offsetWidth));
                basket.style.left = `${x}px`;
            };

            const createFallingObject = () => {
                const object = document.createElement('div');
                object.classList.add('absolute', 'top-0', 'falling-object');
                object.style.left = `${Math.random() * (gameContainer.offsetWidth - 30)}px`;
                gameContainer.appendChild(object);

                const fall = () => {
                    if (!document.body.contains(object)) return;
                    let objectTop = parseInt(window.getComputedStyle(object).top);
                    object.style.top = `${objectTop + 5}px`;

                    if (objectTop > gameContainer.offsetHeight - 50) {
                        const basketRect = basket.getBoundingClientRect();
                        const objectRect = object.getBoundingClientRect();

                        if (
                            objectRect.left < basketRect.right &&
                            objectRect.right > basketRect.left &&
                            objectRect.bottom > basketRect.top
                        ) {
                            
                            score++;
                            
                            scoreDisplay.textContent = `Score: ${score}`;
                            object.remove();
                        } else if (objectTop > gameContainer.offsetHeight) {
                            lives--;
                            livesDisplay.textContent = `Lives: ${lives}`;
                            object.remove();
                            if (lives === 0) gameOver();
                        }
                    }

                    requestAnimationFrame(fall);
                };

                requestAnimationFrame(fall);
            };

            const startGame = () => {
                if (isGameRunning) return;
                isGameRunning = true;
                score = 0;
                lives = 3;
                scoreDisplay.textContent = `Score: ${score}`;
                livesDisplay.textContent = `Lives: ${lives}`;
                gameOverDisplay.style.display = 'none';
                restartButton.style.display = 'none';
                gameInterval = setInterval(createFallingObject, 1000);
            };

            const stopGame = () => {
                isGameRunning = false;
                clearInterval(gameInterval);
                document.querySelectorAll('.falling-object').forEach(object => object.remove());
            };

            const gameOver = () => {
                stopGame();
                gameOverDisplay.style.display = 'block';
                restartButton.style.display = 'block';
            };

            restartButton.addEventListener('click', startGame);
            document.addEventListener('mousemove', moveBasket);

            startGame();
        });
    </script>
</body>
</html>